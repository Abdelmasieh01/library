{% extends 'books/index.html' %}
{% load static %}

{% block stylesheets %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.rtl.min.css"
	integrity="sha384-gXt9imSW0VcJVHezoNQsP+TNrjYXoGcrqBZJpry9zJt8PCQjobwmhMGaDHTASo9N" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
{% endblock %}

{% block active %}
<li><a class="anav" href="{% url 'books:index' %}">الرئيسية</a></li>
<li><a class="active anav" href="{% url 'books:search' %}">البحث</a></li>
<li><a class="anav" href="{% url 'posts:posts' %}">المشاركات</a></li>
{% if user.is_authenticated %}
<li><a class="anav" href="{% url 'books:create-borrower' %}">الاستعارة</a></li>
<li><a class="anav" href="{% url 'books:create-book' %}">الكتب</a></li>
{% endif %}
{% endblock %}


{% block header %}
{% endblock %}

{% block search_input %}
<input type="text" placeholder="بحث.." name="search" style="margin-left: 5px; align-self: stretch;"
	value="{{ keyword }}">
<button type="submit" style="display: inline; align-self: stretch; border-radius: 4px; height: 2.75em;"><i
		class="fa fa-search"></i></button>
{% endblock %}

{% block content %}
<h2 class="px-5 mx-5">نتائج البحث باسم الكتاب:</h2>
<div class="container mt-5 px-2">
	<div class="table-responsive">
		<table class="table table-responsive table-borderless">
			<thead>
				<tr class="bg-light">
					<th scope="col" width="10%" class="text-center">الرقم العام</th>
					<th scope="col" width="10%" class="text-center">الرقم الخاص</th>
					<th scope="col" width="30%" class="text-center">الاسم</th>
					<th scope="col" width="30%" class="text-center">المؤلف</th>
					<th scope="col" width="10%" class="text-center">عدد النسخ</th>
					<th scope="col" class="text-center" width="10%"><span>متاح</span></th>
				</tr>
			</thead>
			<tbody>
				{% for book in books%}
				<tr>
					<td class="text-center">{{ book.category }}</td>
					<td class="text-center">{{ book.code }}</td>
					<td class="text-center">{{ book.name }}</td>
					<td class="text-center">{{ book.author }}</td>
					<td class="text-center">{{ book.copies }}</td>
					{% if book.available == True %}
					<td class="text-center"><i class="bi bi-check-circle-fill"></i></td>
					{% else %}
					<td class="text-center"><i class="bi bi-x-circle-fill"></i></td>
					{% endif %}
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>

	<h2>نتائج البحث باسم المؤلف:</h2>
	<div class="container mt-5 px-2">
		<div class="table-responsive">
			<table class="table table-responsive table-borderless">
				<thead>
					<tr class="bg-light">
						<th scope="col" width="10%" class="text-center">الرقم العام</th>
						<th scope="col" width="10%" class="text-center">الرقم الخاص</th>
						<th scope="col" width="30%" class="text-center">الاسم</th>
						<th scope="col" width="30%" class="text-center">المؤلف</th>
						<th scope="col" width="10%" class="text-center">عدد النسخ</th>
						<th scope="col" class="text-center" width="10%"><span>متاح</span></th>
					</tr>
				</thead>
				<tbody>
					{% for book in books_author%}
					<tr>
						<td class="text-center">{{ book.category }}</td>
						<td class="text-center">{{ book.code }}</td>
						<td class="text-center">{{ book.name }}</td>
						<td class="text-center">{{ book.author }}</td>
						<td class="text-center">{{ book.copies }}</td>
						{% if book.available == True %}
						<td class="text-center"><i class="bi bi-check-circle-fill"></i></td>
						{% else %}
						<td class="text-center"><i class="bi bi-x-circle-fill"></i></td>
						{% endif %}
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>

	</div>
	{% endblock %}
	</section>

	{% block scripts %}
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	{% endblock %}

	{% block index-only %}
	{% endblock %}